{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gunad\\\\Downloads\\\\salon-booking-agent-nodocker\\\\frontend\\\\src\\\\components\\\\ChatWidget.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ChatWidget() {\n  _s();\n  const [messages, setMessages] = useState([{\n    from: 'bot',\n    text: 'Hi — I\\'m SalonBot. How can I help?'\n  }]);\n  const [input, setInput] = useState('');\n  async function send() {\n    if (!input.trim()) return;\n    const userMsg = {\n      from: 'user',\n      text: input\n    };\n    setMessages(m => [...m, userMsg]);\n    setInput('');\n    try {\n      const resp = await axios.post((process.env.REACT_APP_API_URL || 'http://localhost:4000') + '/api/agent/message', {\n        message: input\n      });\n      const bot = {\n        from: 'bot',\n        text: resp.data.reply\n      };\n      setMessages(m => [...m, bot]);\n      if (resp.data.candidates) {\n        setMessages(m => [...m, {\n          from: 'bot',\n          text: 'Available: ' + JSON.stringify(resp.data.candidates)\n        }]);\n      }\n    } catch (e) {\n      setMessages(m => [...m, {\n        from: 'bot',\n        text: 'Server error'\n      }]);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: m.from,\n        children: m.text\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 31\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"composer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type: I want a haircut this Saturday 4pm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: send,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatWidget, \"AlRKviKOWhJvucZBAGXJDIOgL7A=\");\n_c = ChatWidget;\nvar _c;\n$RefreshReg$(_c, \"ChatWidget\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","ChatWidget","_s","messages","setMessages","from","text","input","setInput","send","trim","userMsg","m","resp","post","process","env","REACT_APP_API_URL","message","bot","data","reply","candidates","JSON","stringify","e","className","children","map","i","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gunad/Downloads/salon-booking-agent-nodocker/frontend/src/components/ChatWidget.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nexport default function ChatWidget(){\n  const [messages, setMessages] = useState([{ from:'bot', text:'Hi — I\\'m SalonBot. How can I help?' }]);\n  const [input, setInput] = useState('');\n\n  async function send(){\n    if(!input.trim()) return;\n    const userMsg = { from:'user', text: input };\n    setMessages(m => [...m, userMsg]);\n    setInput('');\n    try{\n      const resp = await axios.post((process.env.REACT_APP_API_URL||'http://localhost:4000') + '/api/agent/message', { message: input });\n      const bot = { from:'bot', text: resp.data.reply };\n      setMessages(m => [...m, bot]);\n      if(resp.data.candidates){\n        setMessages(m => [...m, { from:'bot', text: 'Available: ' + JSON.stringify(resp.data.candidates) }]);\n      }\n    }catch(e){\n      setMessages(m => [...m, { from:'bot', text: 'Server error' }]);\n    }\n  }\n\n  return (\n    <div className='chat'>\n      <div className='messages'>\n        {messages.map((m,i)=> <div key={i} className={m.from}>{m.text}</div>)}\n      </div>\n      <div className='composer'>\n        <input value={input} onChange={e=>setInput(e.target.value)} placeholder='Type: I want a haircut this Saturday 4pm' />\n        <button onClick={send}>Send</button>\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,eAAe,SAASC,UAAUA,CAAA,EAAE;EAAAC,EAAA;EAClC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,CAAC;IAAEQ,IAAI,EAAC,KAAK;IAAEC,IAAI,EAAC;EAAsC,CAAC,CAAC,CAAC;EACtG,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAEtC,eAAeY,IAAIA,CAAA,EAAE;IACnB,IAAG,CAACF,KAAK,CAACG,IAAI,CAAC,CAAC,EAAE;IAClB,MAAMC,OAAO,GAAG;MAAEN,IAAI,EAAC,MAAM;MAAEC,IAAI,EAAEC;IAAM,CAAC;IAC5CH,WAAW,CAACQ,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAED,OAAO,CAAC,CAAC;IACjCH,QAAQ,CAAC,EAAE,CAAC;IACZ,IAAG;MACD,MAAMK,IAAI,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,CAACC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAE,uBAAuB,IAAI,oBAAoB,EAAE;QAAEC,OAAO,EAAEX;MAAM,CAAC,CAAC;MAClI,MAAMY,GAAG,GAAG;QAAEd,IAAI,EAAC,KAAK;QAAEC,IAAI,EAAEO,IAAI,CAACO,IAAI,CAACC;MAAM,CAAC;MACjDjB,WAAW,CAACQ,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAEO,GAAG,CAAC,CAAC;MAC7B,IAAGN,IAAI,CAACO,IAAI,CAACE,UAAU,EAAC;QACtBlB,WAAW,CAACQ,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAE;UAAEP,IAAI,EAAC,KAAK;UAAEC,IAAI,EAAE,aAAa,GAAGiB,IAAI,CAACC,SAAS,CAACX,IAAI,CAACO,IAAI,CAACE,UAAU;QAAE,CAAC,CAAC,CAAC;MACtG;IACF,CAAC,QAAMG,CAAC,EAAC;MACPrB,WAAW,CAACQ,CAAC,IAAI,CAAC,GAAGA,CAAC,EAAE;QAAEP,IAAI,EAAC,KAAK;QAAEC,IAAI,EAAE;MAAe,CAAC,CAAC,CAAC;IAChE;EACF;EAEA,oBACEN,OAAA;IAAK0B,SAAS,EAAC,MAAM;IAAAC,QAAA,gBACnB3B,OAAA;MAAK0B,SAAS,EAAC,UAAU;MAAAC,QAAA,EACtBxB,QAAQ,CAACyB,GAAG,CAAC,CAAChB,CAAC,EAACiB,CAAC,kBAAI7B,OAAA;QAAa0B,SAAS,EAAEd,CAAC,CAACP,IAAK;QAAAsB,QAAA,EAAEf,CAAC,CAACN;MAAI,GAA7BuB,CAAC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAkC,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CAAC,eACNjC,OAAA;MAAK0B,SAAS,EAAC,UAAU;MAAAC,QAAA,gBACvB3B,OAAA;QAAOkC,KAAK,EAAE3B,KAAM;QAAC4B,QAAQ,EAAEV,CAAC,IAAEjB,QAAQ,CAACiB,CAAC,CAACW,MAAM,CAACF,KAAK,CAAE;QAACG,WAAW,EAAC;MAA0C;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACrHjC,OAAA;QAAQsC,OAAO,EAAE7B,IAAK;QAAAkB,QAAA,EAAC;MAAI;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CAhCuBD,UAAU;AAAAsC,EAAA,GAAVtC,UAAU;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}